---
"$schema": http://json-schema.org/draft-07/schema#
title: layer
description: the way how I understand GIS layer
version: 0.0.1
definitions:
  Layer:
    description: A layer definition
    type: object
    properties:
      id:
        type: string
        format: uuid
      name:
        type: string
      content:
        type: array
        items:
          "$ref": "#/definitions/LayerContent"
    required:
      - id
      - name
      - content
  LayerContent:
    description: a feature to display
    type: object
    properties:
      id:
        type: string
        format: uuid
      projection:
        type: string
      geometries:
        type: array
        minItems: 1
        items:
          "$ref": "#/definitions/Geometry"
      data:
        description: container for additional key/value pairs
        type: object
        additionalProperties:
          type: string
      display:
          "$ref": "#/definitions/DisplayConfig"
    required:
      - id
      - geometries
  Color:
    description: The color definition to display a feature
    type: object
    properties:
      red:
        type: integer
      green:
        type: integer
      blue:
        type: integer
      alpha:
        type: integer
    required:
      - red
      - green
      - blue
  DisplayConfig:
    description: Optional configuration to display a feature
    type: object
    properties:
      stroke:
        type: object
        properties:
          width:
            type: integer
          dashArray:
            type: array
            items:
              type: integer
          dashOffset:
            type: integer
          color:
            "$ref": "#/definitions/Color"
      fill:
        type: object
        properties:
          color:
            "$ref": "#/definitions/Color"
      icon:
        type: string
  Coordinate:
    description: lon/lat pair
    type: array
    minItems: 2
    maxItems: 2
    items:
      type: number
  Geometry:
    description: Geometry definition to display the feature
    type: object
    properties:
      point:
        description: a point geometry
        "$ref": "#/definitions/Coordinate"
      multiPoint:
        description: a geometry consisting of multiple separate points
        type: array
        items:
          "$ref": "#/definitions/Coordinate"
      lineString:
        description: a geometry consisting of multiple connected line segments
        type: array
        items:
          "$ref": "#/definitions/Coordinate"
      multiLineString:
        description: a geometry consisting of multiple multi-lines
        type: array
        items:
          type: array
          items:
            "$ref": "#/definitions/Coordinate"
      polygon:
        description: a closed geometry consisting of multiple connected line segments
        type: array
        items:
          type: array
          items:
            "$ref": "#/definitions/Coordinate"
      multiPolygon:
        description: a geometry consisting of multiple separate polygons
        type: array
        items:
          type: array
          items:
            type: array
            items:
              "$ref": "#/definitions/Coordinate"
